<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<title>Processing 2.0 JS Movie library testbase</title>
	
	<script src="processing.js" type="text/javascript"></script>
	<script src="../src/js/Movie.js" type="text/javascript"></script>
	<script type="text/javascript">
		var m1, m2;
		window.onload = function () {
			m1 = new Movie({
				movieEvent:function(mov){
					document.getElementById('timeSlider').value = (mov.time()/mov.duration())*100;
				},
				test:'xxxx'
				},['data/station.mp4','data/station.ogv']);
			m2 = new Movie({},['data/station.mp4','data/station.ogv']);
			function waitForMovieToLoad () {
				if ( !m1.available() ) return setTimeout(waitForMovieToLoad, 200);
				
				m1.play();
			}
			waitForMovieToLoad();	
		}	
		function setMoviePosition ( val ) {
			m1.pause();
			m1.jump( m1.duration() * val );
		}
		function searchYouTube ( query ) {
			// https://gdata.youtube.com/feeds/api/videos?q=surfing&v=2&alt=jsonc&callback=functionName
		}
	</script>
	<style>
	body {margin: 0px;font-family: Lucida Grande, Lucida Sans, Verdana, Arial, sans serif; font-size: 11px;}
	#controllers {display:block; background-color:#999;padding:20px}
	</style>
</head>
<body>
	<div id="controllers">
		<input id="playButton" type="button" value="play" onclick="m1[this.value].call();this.value=(this.value=='play'?'stop':'play')" />
		<input type="button" value="pause" onclick="m1.pause();document.getElementById('playButton').value='play'" />
		<input type="button" value="rewind" onclick="m1.jump(0)" />
		<input name="loopCheckbox" type="checkbox" onchange="this.checked ? m1.loop() : m1.noLoop()" />
		<label for="loopCheckbox">loop</label>
		<input id="timeSlider" type="range" onchange="setMoviePosition(this.value/100.0)" /><br />
	</div>
</body>
</html>
